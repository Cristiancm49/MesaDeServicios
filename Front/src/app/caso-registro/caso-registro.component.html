<router-outlet></router-outlet>
<div class="container">
  <div class="menu-principal">
    <div class="menu-item">
      <h2>Menú Principal</h2>
      <ul>
          <li>
              <a href="#"><i class="icon icon-register"></i>Registrar</a>
              <ul>
                  <li><a routerLink="/registar-caso" class="active">Registrar Caso</a></li>
                  <li><a routerLink="/caso-excepcional" class="notactive">Registrar Caso Excepcional</a></li>
              </ul>
          </li>
          <li>
              <a href="#"><i class="icon icon-cases"></i>Mis casos</a>
              <ul>
                  <li><a routerLink="/Caso-activo" class="notactive">Mis Casos Activos</a></li>
                  <li><a routerLink="/Caso-resuelto" class="notactive">Mis Casos Resueltos</a></li>
              </ul>
          </li>
          <li>
          <li><a href="#"><i class="icon icon-admin"></i>Administrador</a>
              <ul>
                  <li><a routerLink="/gestion-casos" class="notactive">Casos</a></li>
                  <li><a routerLink="/Caso-historial" class="notactive">Historial de casos</a></li>
                  <li><a routerLink="/Admi-Rol" class="notactive">Administrar roles</a></li>
              </ul>
          </li>
          <li><a href="#"><i class="icon icon-tools"></i>Herramientas</a>
              <ul>
                  <li><a routerLink="/inventario-salas" class="notactive">Inventario de las salas</a></li>
                  <li><a href="https://chaira.uniamazonia.edu.co/Reservas/Views/Public/Salas.aspx?tipo=Sistemas" class="notactive" target="_blank" rel="noopener noreferrer">Disponibilidad de salas</a></li>
              </ul>
          </li>
          <li><a href="#"><i class="icon icon-gestion"></i>Gestión de casos</a>
              <ul>
                  <li><a routerLink="/Caso-Delegado" class="notactive">Casos delegados</a></li>
                  <li><a routerLink="/Caso-Finalizado" class="notactive">Casos finalizados</a></li>
              </ul>
          </li>
      </ul>
  </div>
  </div>
  <div class="main-content">
    <h2 class="header">INFORMACIÓN DEL CASO</h2>
    <form>
      <div class="section">
        <h3 class="section-header">SOLICITANTE</h3>
        <div class="form-group">
          <div class="input-group">
            <label for="identificacion">Identificación:</label>
            @for (Duser of DatosUsuario; track Duser.peGe_DocumentoIdentidad) {
            <input type="text" id="identificacion" name="identificacion" [value]="Duser.peGe_DocumentoIdentidad" disabled>
            }
          </div>
          <div class="input-group">
            <label for="nombre">Nombre del Solicitante:</label>
            @for (Duser of DatosUsuario; track Duser.peGe_DocumentoIdentidad) {
            <input [value]="Duser.nombreCompleto" disabled>
            }
          </div>
          <div class="input-group">
            <label for="cargo">Cargo:</label>
            @for (Duser of DatosUsuario; track Duser.peGe_DocumentoIdentidad) {
            <input type="text" id="cargo" name="cargo" class="short" [value]="Duser.cont_Cargo" disabled>
            }
          </div>
        </div>
      </div>
      <div class="section">
        <h3 class="section-header">DEPENDENCIA</h3>
        <div class="form-group">
          <div class="input-group">
            <label for="indicativo">Indicativo:</label>
            @for (Duser of DatosUsuario; track Duser.peGe_DocumentoIdentidad) {
            <input type="text" id="indicativo" name="indicativo" [value]="Duser.unid_ExtTelefono" disabled>
            }
          </div>
          <div class="input-group">
            <label for="dependencia">Dependencia:</label>
            @for (Duser of DatosUsuario; track Duser.peGe_DocumentoIdentidad) {
            <input type="text" id="dependencia" name="dependencia" [value]="Duser.unid_Nombre" disabled>
            }
          </div>
          <div class="input-group">
            <label for="telefono">Teléfono:</label>
            @for (Duser of DatosUsuario; track Duser.peGe_DocumentoIdentidad) {
            <input type="text" id="telefono" name="telefono" class="short" [value]="Duser.unid_Telefono" disabled>
            }
          </div>
        </div>
      </div>
      
      <div *ngIf="showNotification" class="notification">
        {{ notificationMessage }}
      </div>

      <form (ngSubmit)="onSubmit()">
        <div class="section">
          <h3 class="section-header">SOLICITUD</h3>
          <div class="form-group">
            <div class="input-group">
              <label for="fecha">Fecha y Hora:</label>
              <input type="datetime-local" id="fecha" name="fecha" class="short" [ngModel]="fechaHoraString" 
              (ngModelChange)="onFechaHoraChange($event)">
            </div>
            <div class="input-group">
              <label for="categoria">Categoría:</label>
              <select id="categoria" name="categoria" class="short" (change)="onCategoriaSelected($event)">
                <option value="">Seleccionar</option>
                @for (categoria of catego; track categoria.caAr_Id) {
                  <option [value]="categoria.caAr_Id">{{ categoria.caAr_Nombre }}</option>
                }
              </select>
            </div>
            <div class="input-group">
              <label for="area-tecnica">Área técnica:</label>
              <select id="area-tecnica" name="area-tecnica"  class="short"
                      [(ngModel)]="incidencia.arTe_Id" 
                      (change)="onAreaTecnicaSelected($event)">
                <option [ngValue]="">Seleccionar</option>
                @for (area of areasTec; track area.arTe_Id) {
                  <option [ngValue]="area.arTe_Id">{{area.arTe_Nombre }}</option>
                }
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="descripcion">Descripción:</label>
            <textarea id="descripcion" name="descripcion" rows="4" [(ngModel)]="incidencia.inci_Descripcion"></textarea>
          </div>
        </div>
        <div class="form-actions">
          <button type="submit">Envío</button>
          <button type="reset">Limpiar Formulario</button>
        </div>
      </form>
    </form>
  </div>
</div>